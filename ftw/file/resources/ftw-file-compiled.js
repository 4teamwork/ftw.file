!function(e){"function"==typeof define&&define.amd?require(["jquery"],e):e(window.jQuery)}(function(e){e("#form-widgets-file input[type=radio]").change(function(){display=e("input#form-widgets-file-replace").is(":checked")?"none":"",e("#formfield-form-widgets-filename_override").css("display",display)})}),define("hideOverrideFilenameField",function(){}),function(e,a){"function"==typeof define&&define.amd?define("progress",[],a):e.progress=a()}("undefined"!=typeof self?self:this,function(){var e={},a=0,n=null,t=null,o=null,r=null,l={colors:{barColor:"#75ad0a",backColor:"#000000"},templates:{barGtHalf:"linear-gradient($nextdeg, $barColor 50% , transparent 50% , transparent),linear-gradient(270deg, $barColor 50% , $backColor 50% , $backColor)",barStHalf:"linear-gradient(90deg, $backColor 50% , transparent 50% , transparent),linear-gradient($nextdeg, $barColor 50% , $backColor 50% , $backColor)"}},i=function(e){if(!e)throw"InvalidArgumentException: "+e;d(e),s(a)},d=function(e){n=document.getElementById(e),t=document.createElement("div"),t.className="overlay",o=document.createElement("img"),o.id="tick",o.src="++resource++ftw.file.resources/tick.png",r=document.createElement("img"),r.id="fail",r.src="++resource++ftw.file.resources/fail.svg",n.appendChild(t),n.appendChild(o),n.appendChild(r),l.templates.barStHalf=l.templates.barStHalf.replace(/\$backColor/g,l.colors.backColor),l.templates.barStHalf=l.templates.barStHalf.replace(/\$barColor/g,l.colors.barColor),l.templates.barGtHalf=l.templates.barGtHalf.replace(/\$backColor/g,l.colors.backColor),l.templates.barGtHalf=l.templates.barGtHalf.replace(/\$barColor/g,l.colors.barColor)},s=function(e){if(!e&&0!==e)return a;if(isNaN(e))throw"InvalidArgumentException: "+e;if((e=Math.abs(Math.round(e)))>100)throw"InvalidArgumentException: "+e+" is larger than 100";a=e;var o;a<50?(o=90+3.6*a,n.style.backgroundImage=l.templates.barStHalf.replace("$nextdeg",o+"deg")):(o=3.6*(a-50)-90,n.style.backgroundImage=l.templates.barGtHalf.replace("$nextdeg",o+"deg")),t.innerHTML=a+"%"},f=function(){o.style.display="block"},c=function(){r.style.display="block"},u=function(){o.style.display="none",r.style.display="none",m(),a=0,s(a)},p=function(){n.style.display="block"},m=function(){n.style.display="none"};return e.init=i,e.value=s,e.done=f,e.reset=u,e.show=p,e.hide=m,e.failure=c,e}),function(e,a){"function"==typeof define&&define.amd?define("uploader",["jquery","progress"],a):e.uploader=a(e.jQuery,e.progress)}("undefined"!=typeof self?self:this,function(e,a){var n={},t=null,o=0,r=!1,l=!1,i=null,d=null,s={filereader:null,dnd:null,formdata:null,progress:null},f=function(e){var n=s.formdata?new FormData:null;if(g(!0),a.show(),t.className="uploading",s.formdata){n.append("file",e);var o=new XMLHttpRequest;o.open("POST",context_url+"/ajax-upload"),o.onload=function(){a.value(0)},s.progress&&(o.upload.onprogress=function(e){if(e.lengthComputable){var n=e.loaded/e.total*100|0;a.value(n)}}),o.onreadystatechange=function(){4==o.readyState&&200==o.status?(t.className="done",r=!0,a.done(),window.setTimeout(function(){m()},400)):4==o.readyState&&200!=o.status&&(t.className="fail",l=!0,a.failure(),window.location.reload())},o.send(n)}},c=function(){u(),s.dnd&&(e(document).on("dragenter",function(a){-1!==e.inArray("Files",a.dataTransfer.types)&&(o++,i.overlay().load(),a.preventDefault())}).on("drop",function(a){a.preventDefault(),$target=e(a.target),$target.is(e(t))||$target.parent().is(e(t))||g()}).on("dragleave",function(e){0===--o&&g()}).on("dragover",function(e){e.preventDefault()}),e(t).on("dragover",function(e){this.className=r?"done hover":"hover",this.className=l?"fail hover":"hover",e.preventDefault()}).on("dragleave",function(){this.className=r?"done":"",this.className=l?"fail":""}).on("drop",function(a){e(this).className="",f(a.dataTransfer.files[0]),a.preventDefault()}))},u=function(){e(t).off("dragover").off("dragleave").off("drop"),e(document).off("dragenter").off("dragleave").off("drop")},p=function(){e.event.props.push("dataTransfer"),t=document.getElementById("dropzone"),d=e("#dnd-file-replacement-hint"),a.init("uploadprogress"),s.filereader=!!window.FileReader,s.dnd="draggable"in document.createElement("span"),s.formdata=!!window.FormData,s.progress="upload"in new XMLHttpRequest,i=null,s.filereader&&s.dnd&&s.formdata||d.hide(),i=e("#dropzone").overlay({top:80,mask:{maskId:"upload-overlay",color:"#ededf1",opacity:.94}}),c()},m=function(){e(".fileListing").empty();var a=e.get(context_url+"/file_view");a.done(function(a){var n=e(a),t=e(".fileListing"),o=e("table.contentHistory");t.empty(),t.html(e(".fileListing tbody",n)),o.length>0&&(e(o).empty(),o.html(e("table.contentHistory thead, table.contentHistory tbody",n))),e(document).trigger("dndUploadViewUpdated",[n])}),a.fail(function(e){window.location.reload()}),a.always(function(e){g()})},g=function(e){a.reset(),e||i.overlay().close(),t.className="",c(),r=!1,l=!1,o=0};return n.init=p,n}),require(["hideOverrideFilenameField","progress","uploader"],function(e,a,n){}),define("main-bundle",function(){});